(( define "header" ))
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>chop | make op-1 patches</title>
    <meta name="title" content="chop | make op-1 patches">
    <meta name="description" content="create drum patches for the teenage engineering op-1 synthesizer from any sound on the internet.">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://op1.schollz.com">
    <meta property="og:title" content="chop | make op-1 patches">
    <meta property="og:description" content="create drum patches for the teenage engineering op-1 synthesizer from any sound on the internet.">
    <meta property="og:image" content="/static/image/example.png">
    <!-- Twitter -->
    <meta property="twitter:card" content="/static/image/example.png">
    <meta property="twitter:url" content="https://op1.schollz.com">
    <meta property="twitter:title" content="chop | make op-1 patches">
    <meta property="twitter:description" content="create drum and synth patches for the teenage engineering op-1 synthesizer from any sound on the internet.">
    <meta property="twitter:image" content="/static/image/example.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/static/image/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/image/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/image/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/image/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/image/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/image/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/image/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/image/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/image/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/static/image/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/image/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/image/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/image/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/image/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#0077b6;">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#0077b6;">
    <style>
        /* some basic styling to make things pretty */
      *,
      *:before,
      *:after {
          box-sizing: border-box;
          padding: 0;
          margin: 0;
      }
    
      body {
          background: #0077b6;
          color: white;
          padding-top: 0em;
          padding-bottom: 0em;
      }
    
      .mw30 {
          box-sizing: border-box;
          max-width: 40em;
          margin: auto;
          border: 0 none;
      }
    
      legend {
          font-size: 1.2em;
          width: 100%;
          border-bottom: 1px dotted #99c;
      }
    
      fieldset div {
          margin: 4px 0;
      }
    
      input,
      textarea,
      select {
          font-size: 1em;
      }
    
      /* flexbox styles */
      fieldset div {
          display: flex;
          align-items: center;
      }
    
      label {
          order: 1;
          width: 10em;
          text-align: right;
          padding-right: 0.5em;
          white-space: nowrap;
          user-select: none;
          cursor: pointer;
      }
    
      div,
      button,
      input,
      textarea,
      select {
          order: 2;
          flex: 1 1 auto;
      }
    
      input[type="checkbox"],
      input[type="radio"] {
          order: 1;
          flex: none;
          width: auto;
          margin-left: 10em;
          margin-right: -10em;
      }
    
      input[type="checkbox"]~label,
      input[type="radio"]~label {
          width: auto;
          text-align: left;
          padding-left: 0.4em;
      }
    
      /* label state styles */
      input:focus~label,
      textarea:focus~label,
      select:focus~label {
          color: #FAFAD2;
      }
    
      input:checked~label {
          font-weight: bold;
      }
    
      #app {
          padding-top: 3.75em;
          padding-left: 0.5em;
          padding-right: 0.5em;
      }
    
      .button {
          max-width: 100%;
          padding: 0.5em;
      }
    
      .error {
          color: #FFDAB9;
      }
    
      .success {
          color: #98FB98;
      }
    
      .current {
        color: #98FB98;
        font-weight: 900;
        font-size: 150%;
      }
    
      .pt1 {
          padding-top: 1em;
      }
    
      .pt3 {
          padding-top: 3em;
      }
    
    
      .pt2{
          padding-top: 2em;
      }
    
      .pt05 {
          padding-top: 0.5em;
      }
    
      dl {
          padding: 0.1em;
      }
    
      dt {
          float: left;
          clear: left;
          text-align: right;
          font-weight: bold;
          color: #20B2AA;
          padding-left: 1em;
      }
    
      li > a {
          color: #20B2AA;
          font-size: 80%;
          padding-left: 1em;
      }
    
      ul {
           list-style-type: none;
      }
    
      dt::after {
          content: ":";
          padding-right: 0.5em;
      }
    
      dd {}
    
      input,
      button,
      body,
      p {
          font-family: "Lucida Console", Monaco, monospace
      }
    
      .link {
          cursor: pointer;
          text-decoration: underline;
      }
    
      input,
      button {
          background: #0077b6;
          border: 1px solid white;
          border-radius: 4px;
          color: white;
          padding: 0.5em;
      }
    
      button {
          cursor: pointer;
      }
    
      button:hover {
          background-color: white;
          /* Green */
          color: #0077b6;
      }
    
      input:focus {
          background-color: white;
          /* Green */
          color: #0077b6;
      }
    
      a {
          color: white;
      }
    
      a:hover {
          color: #FAFAD2;
      }
    
      dd,
      dt {
          font-size: 80%;
      }   
    
      .video {
        margin: 0 auto;
        border: 5px outset #ddd;
        border-radius: 8px;
        padding: 0.5em;
    }
    
    .beatnum {
        padding-right: 1em;
    }

    img {
        max-width: 100%;
    }
    input {
  min-width: 60%;
  max-width:4em;
  overflow: hidden;
    }

         div#banner { 
       position: absolute; 
       top: 0; 
       left: 0; 
       background-color: #F6FFFE     ; 
       color: #137752   ;
       width: 100%; 
       text-align: center;
     }
     div#banner-content { 
       margin: 0 auto; 
       padding: 10px; 
     }
     div#main-content { 
       padding-top: 70px;
    }
    </style>
</head>

<body style="">
    <div id="banner">
        <div id="banner-content">
            note: this is Œ≤ software, <a href="https://github.com/schollz/teoperator/issues/new?labels=bug&title=New+bug+report" style="color: #137752   ;">click here</a> to report üêõüêõüêõ
        </div>
    </div>
    <div id="app">
        <fieldset class="mw30" style="padding-top: 2em;">
            <legend>
                <pre style="float:right; text-align: right;">

   </pre><a href="/"><span style="font-size:1.5em">ch<strong style="font-size: 1.2em;">op-1</strong></span></a> v1.0.0Œ≤
            </legend>
            <form action="/patch" method="get">
                <div>
                    <input id="audioURL" name="audioURL" type="text" value="((if .Metadata))((.Metadata.OriginalURL))((end))" />
                    <label for="audioURL">url:</label>
                </div>
                <div>
                    <input type="decimal" id="secondsStart" name="secondsStart" value="((if .Metadata))((.Metadata.Start))((end))" style="min-width: 30%;">
                    <input type="decimal" id="secondsEnd" name="secondsEnd" value="((if .Metadata))((.Metadata.Stop))((end))" style="min-width: 30%;">
                    <label for="secondsStart">start/end<br>(in seconds):</label>
                </div>
                <div>
                    <input id="synthPatch" name="synthPatch" type="checkbox" ((if .Metadata))((if .Metadata.IsSynthPatch))checked((end))((end)) />
                    <label for="synthPatch">make synth patch</label>
                </div>
                <div>
                    <button class="button" type="submit" style="max-width:4em;  min-width: 60%;">chop it up!</button>
                    <label for="name"></label>
                </div>
            </form>
        </fieldset>
        <div class="mw30">
            (( with .MessageError ))
            <div style="text-align: center;">
                <p class="error" style="text-transform: lowercase;">
                    ((.))
                </p>
                <p>
                    problem? click <a href="https://github.com/schollz/teoperator/issues/new">here to send a bug report</a>.
                </p>
            </div>
            (( end ))
            <p class="pt2">
                <strong>
                    chop up internet sounds into drum or synth patches for teenage engineering's op-1.
                </strong>
            </p>
            (( if .Metadata.UUID ))
            <div class="pt2">
                <p><span style="font-size:140%; font-weight:900;">((if $.Metadata.IsSynthPatch))synth patch((else))drum patches((end))</span> generated from '<a href="(($.Metadata.OriginalURL))">((urlbase $.Metadata.Name ))</a>'</p>
                <br>
                <p>click the waveform to listen and download the op-1 ((if .Metadata.IsSynthPatch))synth patch.((else))drum patch. the varying colors indicate how the op-1 marks are generated.((end))
                </p>
            </div>
            <div style="padding:1em; border: 2px solid #FFFFFF; margin-top:2em;">
                (( range .Metadata.Files))
                <div class="pt1">
                    <p style="display:none;" id="p((filebase .Prefix))">
                        <a href="((.Prefix)).aif" download>download ((filebase .Prefix)).aif</a>: ((roundfloat .Start)) to ((roundfloat .Stop)) seconds</p>
                    <p>
                        <img src="((.Prefix)).mp3.png" class="waveform" id="((filebase .Prefix))">
                    </p>
                    <p style="display:none;" id="a((filebase .Prefix))">
                        <audio controls id="audio((filebase .Prefix))">
                            <source src="/((.Prefix)).mp3" type="audio/mp3" />
                            Your browser does not support the audio tag.
                        </audio>
                    </p>
                </div>
                ((end))
            </div>
            ((else))
            <div>
                <p class="pt1">
                    enter a url and hit "chop it up!". check "make synth patch" to get a synth patch, otherwise it will become set of drum patches. drum patches will get automatic key assignments based on waveform transients.
                </p>
                <p class="pt1">
                    if you need to upload something, <a target="_blank" href="https://share.schollz.com">use another website</a> to upload first.
                </p>
                <p class="pt2">
                    <strong>drum patch examples:</strong> <a href="/patch?audioURL=https%3A%2F%2Fcdn.loc.gov%2Fservice%2Fgdc%2Fgdcarpl%2Fgdcarpl-1624415%2F1624415.mp3&secondsStart=982&secondsEnd=1002">poetry</a> from library of congress, <a href="/patch?audioURL=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2F6%2F68%2FTurdus_merula_male_song_at_dawn%252820s%2529.ogg&secondsStart=0&secondsEnd=30">black bird sounds</a>, <a href="/patch?audioURL=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2F7%2F70%2FTimpani_64-c-p5.wav&secondsStart=0&secondsEnd=0">sounds from a timpani</a>. <a href="/patch?audioURL=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D36CYMdFmDeQ&secondsStart=21.9&secondsEnd=60">spoken word</a> from youtube.
                </p>
                <p class="pt1">
                    <strong>synth patch examples:</strong> <a href="/patch?audioURL=http%3A%2F%2Ftheremin.music.uiowa.edu%2Fsound%2520files%2FMIS%2520Pitches%2520-%25202014%2FStrings%2FCello%2FCello.arco.ff.sulC.A2.stereo.aif&secondsStart=0&secondsEnd=0&synthPatch=on">cello sound</a> and <a href="/patch?audioURL=http%3A%2F%2Ftheremin.music.uiowa.edu%2Fsound%2520files%2FMIS%2FPiano_Other%2Fpiano%2FPiano.mf.A4.aiff&secondsStart=0&secondsEnd=0&synthPatch=on">piano sound</a> from U of Iowa</a>, a <a href="/patch?audioURL=https%3A%2F%2Fupload.wikimedia.org%2Fwikipedia%2Fcommons%2Fc%2Fc7%2FDidgeridoo_sound.ogg&secondsStart=0&secondsEnd=0&synthPatch=on">didgeridoo</a> from wikipedia, a <a href="/patch?audioURL=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DXCPj4JPbKtA&secondsStart=17&secondsEnd=22.25&synthPatch=on">epic whistle</a> from youtube.
                </p>
            </div>
            ((end))
            <p class="pt3" style="text-transform: lowercase;">
                please note: <small>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</small>
            </p>
            (( end ))
            (( define "footer" ))
            <div class="pt3" style="text-align: right;">
                <small>Made <a href="https://github.com/schollz/teoperator">open-source by @schollz</a> (c)2020.</small>
            </div>
        </div>
    </div>
    <script src="/static/js/jquery.min.js"></script>
    <script>
    $(document).ready(function() {
        $('.waveform').click(
            function(e) {
                console.log(e.currentTarget.id);
                if ($("#p" + e.currentTarget.id).is(":visible")) {
                    $("#audio" + e.currentTarget.id).trigger('pause');
                    $("#audio" + e.currentTarget.id)[0].currentTime = 0;
                } else {
                    $("#audio" + e.currentTarget.id).trigger('play');
                }
                $("#p" + e.currentTarget.id).fadeToggle("fast", "swing");
                $("#a" + e.currentTarget.id).fadeToggle("fast", "swing");
            },
        );
    });
    </script>
    <img src="/static/image/op1.png" width="70%" style="float:right; max-width: 900px;">
</body>

</html>
((end ))